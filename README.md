# AI短视频生成器

这是一个基于AI技术的短视频生成工具，可以根据用户提供的话题和材料自动生成短视频内容，包括文案、图片、音频和视频合成。

## 功能特点

- **话题生成**：根据用户提供的材料，使用AI生成吸引人的短视频文案
- **图片生成**：为每段文案自动生成相应的图片内容
- **音频合成**：将文案转换为语音
- **视频制作**：将图片和音频合成为完整的短视频

## 安装说明

1. 确保已安装Python 3.8或更高版本
2. 安装所需依赖：

```bash
pip install -r requirements.txt
```

3. 配置环境变量（创建.env文件）：

```
COMFYUI_API_URL=127.0.0.1:8188
AUDIO_API_URL=你的音频API地址
AUDIO_API_KEY=你的音频API密钥
AUDIO_MODEL=你的音频模型名称
```

## 使用方法

1. 运行主程序：

```bash
python main_ui.py
```

2. 在界面中输入话题和相关材料
3. 点击「生成全部」按钮开始生成过程
4. 也可以选择单独生成话题、图片、音频或视频
5. 生成完成后，可以在预览标签页查看结果

## 界面说明

- **左侧面板**：输入区域和控制按钮
  - 话题输入框：输入短视频的主题
  - 材料输入框：输入相关的材料内容
  - 控制按钮：生成全部、仅生成话题、仅生成图片等
  - 日志输出：显示生成过程的日志信息

- **右侧面板**：预览区域
  - 话题预览：显示生成的文案、图片和音频
  - 视频预览：显示生成的最终视频

## 文件结构

生成的内容将保存在以下目录结构中：

```
data/
  topic/
    {话题名}/
      topic.json     # 生成的文案和提示词
      images/        # 生成的图片
      audios/        # 生成的音频
      video.mp4      # 最终合成的视频
```

## 注意事项

- 确保ComfyUI服务已启动并可访问
- 音频生成需要有效的API密钥
- 视频生成过程可能需要较长时间，请耐心等待